!function(){"use strict";const e=new class{constructor(e){this.baseUrl=e.baseUrl,this.headers=e.headers}handleServerResponse(e){return e.ok?e.json():Promise.reject(`Error: ${e.status}`)}getInitialCards(){return fetch(`${this.baseUrl}/cards`,{headers:this.headers}).then(this.handleServerResponse)}loadUserInfo(){return fetch(`${this.baseUrl}/users/me`,{headers:this.headers}).then(this.handleServerResponse)}loadCards(){return fetch("https://around-api.en.tripleten-services.com/v1/cards",{headers:{authorization:"c71139a8-616d-4539-81d5-960dbf139c46"}})}editProfile(e){return fetch(`${this.baseUrl}/users/me`,{method:"PATCH",headers:this.headers,body:e}).then(this.handleServerResponse)}addCard(e){return fetch(`${this.baseUrl}/cards`,{method:"POST",headers:this.headers,body:e}).then(this.handleServerResponse)}removeCard(e){return fetch(`${this.baseUrl}/cards/${e}`,{method:"DELETE",headers:this.headers}).then(this.handleServerResponse)}likeCard(e){return fetch(`${this.baseUrl}/cards/${e}/likes`,{method:"PUT",headers:this.headers}).then(this.handleServerResponse)}unlikeCard(e){return fetch(`${this.baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:this.headers}).then(this.handleServerResponse)}updateProfilePicture(e){return fetch(`${this.baseUrl}/users/me/avatar`,{method:"PATCH",headers:this.headers,body:e}).then(this.handleServerResponse)}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"c71139a8-616d-4539-81d5-960dbf139c46","Content-Type":"application/json"}});class t{constructor(e,t,s,r){let{name:i,link:n,id:o,isLiked:a}=e;this.handleDeleteConfirm=r,this._name=i,this._link=n,this.id=o,this.isLiked=a,this._cardSelector=t,this._handleImageClick=s}_setEventListeners(){this._cardElement.querySelector(".card__like-button").addEventListener("click",(()=>{this._handleLikeButton()})),this._cardElement.querySelector(".card__delete-button").addEventListener("click",(()=>{this.handleDeleteConfirm(this)})),this._cardElement.querySelector(".card__image").addEventListener("click",(()=>{this._handleImageClick(this)})),this.isLiked&&this._cardElement.querySelector(".card__like-button").classList.toggle("card__like-button_active")}_setCardNameImageAndDescription(){const e=this._cardElement.querySelector(".card__image"),t=this._cardElement.querySelector(".card__description-text");e.src=this._link,e.alt=this._name,t.textContent=this._name}_handleLikeButton(){this.isLiked?e.unlikeCard(this.id).then((e=>this.liked=!1)):e.likeCard(this.id).then((e=>this.isLiked=!0)),this._cardElement.querySelector(".card__like-button").classList.toggle("card__like-button_active")}removeCard(){this._cardElement.remove(),this._cardElement=null}getCardElement(){return this._cardElement=document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0),this._setEventListeners(),this._setCardNameImageAndDescription(),this._cardElement}}class s{constructor(e,t){this._formEl=document.querySelector(e),this._formOptions=t}_showInputError(e){e.classList.add(this._formOptions.inputErrorClass);const t=this._formEl.querySelector(`#${e.id}-error`);t.textContent=e.validationMessage,t.classList.add(this._formOptions.errorClass)}_hideInputError(e){const t=this._formEl.querySelector(`#${e.id}-error`);e.classList.remove(this._formOptions.inputErrorClass),t.classList.remove(this._formOptions.errorClass)}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_setEventListeners(){const{inputSelector:e,submitButtonSelector:t}=this._formOptions;this._inputEls=[...this._formEl.querySelectorAll(e)],this._submitButton=this._formEl.querySelector(t),this._inputEls.forEach((e=>{e.addEventListener("input",(t=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}_hasInvalidInput(){return this._inputEls.some((e=>!e.validity.valid))}_toggleButtonState(){this._hasInvalidInput()?(this._submitButton.classList.add(this._formOptions.inactiveButtonClass),this._submitButton.disabled=!0):(this._submitButton.classList.remove(this._formOptions.inactiveButtonClass),this._submitButton.disabled=!1)}clearErrors(){this._inputEls.forEach((e=>{this._hideInputError(e,this._formOptions)}))}enableValidation(){this._formEl.addEventListener("submit",(e=>{e.preventDefault()})),this._setEventListeners()}resetForm(){this._formEl.reset(),this._toggleButtonState()}}var r=class{constructor(e){let{popupSelector:t}=e;this._popupElement=document.querySelector(t),this._closeBtn=this._popupElement.querySelector(".modal__close")}open(){this._popupElement.classList.add("modal_opened"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popupElement.classList.remove("modal_opened"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose=e=>{"Escape"===e.key&&this.close()};_handleCloseBtn=()=>{this.close()};handleClickOutside=e=>{Array.from(e.target.classList).includes("modal_opened")&&this.close()};setEventListeners(){this._popupElement.addEventListener("click",this.handleClickOutside),this._closeBtn.addEventListener("click",this._handleCloseBtn)}},i=class extends r{constructor(e,t){super({popupSelector:e}),this._handleFormSubmit=t,this.submit=this.submit.bind(this)}_getInputValues(){const e={};return Array.from(document.querySelectorAll(".modal__input")).forEach((t=>{e[t.name]=t.value})),e}submit(e){e.preventDefault();const t=this._popupElement.querySelector(".modal__save").innerText;this._popupElement.querySelector(".modal__save").innerText="Saving....",this._handleFormSubmit(this._getInputValues()),this._popupElement.querySelector(".modal__save").innerText=t}setEventListeners(){this._popupElement.addEventListener("submit",this.submit),super.setEventListeners()}};const n={formSelector:".modal__form",inputSelector:".modal__input",submitButtonSelector:".modal__save",inactiveButtonClass:"modal__save_disabled",inputErrorClass:"modal__input_type_error",errorClass:"modal__error_visible",templateSelector:"#card-template",containerSelector:".cards__list"},o=document.querySelector(".profile__edit-button"),a=document.querySelector(".card__add-button"),l=document.getElementById("profile-description-input"),d=document.getElementById("profile-name-input");o.addEventListener("click",(()=>{const e=v.getUserInfo();d.value=e.name,l.value=e.description,E.open()})),a.addEventListener("click",(()=>{h.open()}));const c=new class extends r{constructor(e){let{popupSelector:t}=e;super({popupSelector:t})}submitAction(e){this.handleSubmitAction=e}setEventListeners(){this._popupElement.addEventListener("submit",(e=>{e.preventDefault(),this.handleSubmitAction()})),super.setEventListeners()}}({popupSelector:"#are-you-sure"});c.setEventListeners();const h=new i("#profile-card-modal",(function(t){let{place:s,link:r}=t;e.addCard(JSON.stringify({name:s,link:r})).then((e=>{I.addItem(g({name:s,link:r,id:e._id})),L.resetForm(),h.close()}))}),"#card-add-button");h.setEventListeners();const u=document.querySelector(".profile__name"),p=document.querySelector(".profile__description"),m=document.querySelector(".profile__image"),_=document.querySelector(".pencil-icon"),v=new class{constructor(e){let{profileName:t,profileDescription:s,profileAvatar:r}=e;this._profileName=t,this._profileDescription=s,this._profileAvatar=r}getUserInfo(){return{name:this._profileName.textContent,description:this._profileDescription.textContent,avatar:this._profileAvatar.src}}setUserInfo(e){e.name.length&&(this._profileName.textContent=e.name),e.description.length&&(this._profileDescription.textContent=e.description),e.avatar?.length&&(this._profileAvatar.src=e.avatar)}}({profileName:u,profileDescription:p,profileAvatar:m}),E=new i("#profile-edit-modal",(t=>{e.editProfile(JSON.stringify({name:t.name,about:t.description})).then((e=>{v.setUserInfo(t),E.close()}))}));E.setEventListeners(),_.addEventListener("click",(()=>{f.open()}));const f=new i("#avatar-edit-modal",(t=>{e.updateProfilePicture(JSON.stringify({avatar:t.avatar})).then((e=>{v.setUserInfo(t),f.close()}))}));f.setEventListeners();const S=new class extends r{constructor(e){let{popupSelector:t}=e;super({popupSelector:t}),this._cardImage=this._popupElement.querySelector(".modal__preview-image"),this._cardTitle=this._popupElement.querySelector(".modal__preview-title")}open(e,t){super.open(),this._cardImage.src=t,this._cardTitle.textContent=e,this._cardImage.alt=e}}({popupSelector:"#modal-image"});S.setEventListeners();const b=new s("#profile-form",n),L=new s("#card-form",n),y=new s("#avatar-form",n);function k(e){S.open(e._name,e._link)}function C(t){c.open(),c.submitAction((()=>{e.removeCard(t.id).then((()=>{t.removeCard(),c.close()})).catch((()=>{}))}))}function g(e){return new t(e,n.templateSelector,k,C).getCardElement()}b.enableValidation(),L.enableValidation(),y.enableValidation();const I=new class{constructor(e,t){let{renderer:s}=e;this._renderer=s,this._container=document.querySelector(t)}renderItems(e){e?.forEach((e=>{this._renderer(e)}))}addItem(e){this._container.prepend(e)}}({items:[],renderer:e=>{I.addItem(g(e))}},n.containerSelector);e.loadUserInfo().then((e=>{v.setUserInfo({name:e.name,description:e.about,avatar:e.avatar})})),e.getInitialCards().then((e=>{e.reverse().forEach((e=>{I.addItem(g({name:e.name,link:e.link,id:e._id,isLiked:e.isLiked}))}))})),I.renderItems()}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Q0FDVGhILEtBQU02SSxFQUFLN0ksS0FDWEMsS0FBTTRJLEVBQUs1SSxLQUNYVixHQUFJc0osRUFBSzVCLElBQ1QvRyxRQUFTMkksRUFBSzNJLFVBRWpCLEdBQ0QsSUFHSjRHLEVBQVM2QixhIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvYXBpLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy91dGlscy9jb25zdGFudHMuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwQ29uZmlybS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Vc2VySW5mby5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBjbGFzcyBBcGkge1xyXG4gIGNvbnN0cnVjdG9yKG9wdGlvbnMpIHtcclxuICAgIHRoaXMuYmFzZVVybCA9IG9wdGlvbnMuYmFzZVVybDtcclxuICAgIHRoaXMuaGVhZGVycyA9IG9wdGlvbnMuaGVhZGVycztcclxuICB9XHJcblxyXG4gIGhhbmRsZVNlcnZlclJlc3BvbnNlKHJlcykge1xyXG4gICAgaWYgKHJlcy5vaykge1xyXG4gICAgICByZXR1cm4gcmVzLmpzb24oKTtcclxuICAgIH1cclxuICAgIC8vIGlmIHRoZSBzZXJ2ZXIgcmV0dXJucyBhbiBlcnJvciwgcmVqZWN0IHRoZSBwcm9taXNlXHJcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XHJcbiAgfVxyXG5cclxuICBnZXRJbml0aWFsQ2FyZHMoKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9jYXJkc2AsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxyXG4gICAgfSkudGhlbih0aGlzLmhhbmRsZVNlcnZlclJlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIGxvYWRVc2VySW5mbygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXHJcbiAgICB9KS50aGVuKHRoaXMuaGFuZGxlU2VydmVyUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgbG9hZENhcmRzKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjEvY2FyZHNcIiwge1xyXG4gICAgICBoZWFkZXJzOiB7XHJcbiAgICAgICAgYXV0aG9yaXphdGlvbjogXCJjNzExMzlhOC02MTZkLTQ1MzktODFkNS05NjBkYmYxMzljNDZcIixcclxuICAgICAgfSxcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgZWRpdFByb2ZpbGUoYm9keSkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vdXNlcnMvbWVgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXHJcbiAgICAgIGJvZHk6IGJvZHksXHJcbiAgICB9KS50aGVuKHRoaXMuaGFuZGxlU2VydmVyUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgYWRkQ2FyZChib2R5KSB7XHJcbiAgICAvL2JvZHkgPT4gaGFzIG5hbWUgYW5kIGltYWdlIFVSTCwgZ2V0IGZyb20gYWRkIGNhcmQgZm9ybVxyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vY2FyZHNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJQT1NUXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcclxuICAgICAgYm9keTogYm9keSxcclxuICAgIH0pLnRoZW4odGhpcy5oYW5kbGVTZXJ2ZXJSZXNwb25zZSk7XHJcbiAgfVxyXG5cclxuICByZW1vdmVDYXJkKGlkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5iYXNlVXJsfS9jYXJkcy8ke2lkfWAsIHtcclxuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXHJcbiAgICB9KS50aGVuKHRoaXMuaGFuZGxlU2VydmVyUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgbGlrZUNhcmQoaWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L2NhcmRzLyR7aWR9L2xpa2VzYCwge1xyXG4gICAgICBtZXRob2Q6IFwiUFVUXCIsIC8vdXBkYXRpbmcgZXhpc3RpbmcgZGF0YVxyXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXHJcbiAgICB9KS50aGVuKHRoaXMuaGFuZGxlU2VydmVyUmVzcG9uc2UpO1xyXG4gIH1cclxuXHJcbiAgdW5saWtlQ2FyZChpZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuYmFzZVVybH0vY2FyZHMvJHtpZH0vbGlrZXNgLCB7XHJcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcclxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxyXG4gICAgfSkudGhlbih0aGlzLmhhbmRsZVNlcnZlclJlc3BvbnNlKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZVByb2ZpbGVQaWN0dXJlKGJvZHkpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLmJhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgbWV0aG9kOiBcIlBBVENIXCIsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcclxuICAgICAgYm9keTogYm9keSxcclxuICAgIH0pLnRoZW4odGhpcy5oYW5kbGVTZXJ2ZXJSZXNwb25zZSk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgY29uc3QgYXBpID0gbmV3IEFwaSh7XHJcbiAgYmFzZVVybDogXCJodHRwczovL2Fyb3VuZC1hcGkuZW4udHJpcGxldGVuLXNlcnZpY2VzLmNvbS92MVwiLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgIGF1dGhvcml6YXRpb246IFwiYzcxMTM5YTgtNjE2ZC00NTM5LTgxZDUtOTYwZGJmMTM5YzQ2XCIsXHJcbiAgICBcIkNvbnRlbnQtVHlwZVwiOiBcImFwcGxpY2F0aW9uL2pzb25cIixcclxuICB9LFxyXG59KTtcclxuIiwiaW1wb3J0IHsgYXBpIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvYXBpLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBDYXJkIHtcclxuICBjb25zdHJ1Y3RvcihcclxuICAgIHsgbmFtZSwgbGluaywgaWQsIGlzTGlrZWQgfSxcclxuICAgIGNhcmRTZWxlY3RvcixcclxuICAgIGhhbmRsZUltYWdlQ2xpY2ssXHJcbiAgICBoYW5kbGVEZWxldGVDb25maXJtXHJcbiAgKSB7XHJcbiAgICB0aGlzLmhhbmRsZURlbGV0ZUNvbmZpcm0gPSBoYW5kbGVEZWxldGVDb25maXJtO1xyXG4gICAgdGhpcy5fbmFtZSA9IG5hbWU7XHJcbiAgICB0aGlzLl9saW5rID0gbGluaztcclxuICAgIHRoaXMuaWQgPSBpZDtcclxuICAgIHRoaXMuaXNMaWtlZCA9IGlzTGlrZWQ7XHJcbiAgICB0aGlzLl9jYXJkU2VsZWN0b3IgPSBjYXJkU2VsZWN0b3I7IC8vY2FyZCB0ZW1wbGF0ZVxyXG4gICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayA9IGhhbmRsZUltYWdlQ2xpY2s7XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19saWtlLWJ1dHRvblwiKVxyXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9oYW5kbGVMaWtlQnV0dG9uKCk7XHJcbiAgICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX2NhcmRFbGVtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2RlbGV0ZS1idXR0b25cIilcclxuICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgICAgICAgdGhpcy5oYW5kbGVEZWxldGVDb25maXJtKHRoaXMpO1xyXG4gICAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcihcIi5jYXJkX19pbWFnZVwiKVxyXG4gICAgICAuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICAgICAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrKHRoaXMpO1xyXG4gICAgICB9KTtcclxuICAgICAgaWYodGhpcy5pc0xpa2VkKXtcclxuICAgICAgICB0aGlzLl9jYXJkRWxlbWVudFxyXG4gICAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpXHJcbiAgICAgICAgLmNsYXNzTGlzdC50b2dnbGUoXCJjYXJkX19saWtlLWJ1dHRvbl9hY3RpdmVcIik7XHJcblxyXG4gICAgICB9XHJcbiAgfVxyXG5cclxuICBfc2V0Q2FyZE5hbWVJbWFnZUFuZERlc2NyaXB0aW9uKCkge1xyXG4gICAgY29uc3QgY2FyZEltYWdlRWwgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpOyAvL2FkZHMgY2FyZCBpbWFnZSBkaXZcclxuICAgIGNvbnN0IGNhcmROYW1lVGV4dEVsID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcclxuICAgICAgXCIuY2FyZF9fZGVzY3JpcHRpb24tdGV4dFwiXHJcbiAgICApO1xyXG5cclxuICAgIGNhcmRJbWFnZUVsLnNyYyA9IHRoaXMuX2xpbms7IC8vYWRkcyBjYXJkIGltYWdlXHJcbiAgICBjYXJkSW1hZ2VFbC5hbHQgPSB0aGlzLl9uYW1lOyAvL2FkZHMgY2FyZCBhbHQgdGV4dFxyXG4gICAgY2FyZE5hbWVUZXh0RWwudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lOyAvL0Rlc2NyaXB0aW9uXHJcbiAgfVxyXG5cclxuICBfaGFuZGxlTGlrZUJ1dHRvbigpIHtcclxuICAgIGlmKHRoaXMuaXNMaWtlZClcclxuICAgIHthcGkudW5saWtlQ2FyZCh0aGlzLmlkKS50aGVuKGpzb24gPT4gdGhpcy5saWtlZCA9IGZhbHNlKX1cclxuICAgIGVsc2VcclxuICAgIHthcGkubGlrZUNhcmQodGhpcy5pZCkudGhlbihqc29uID0+IHRoaXMuaXNMaWtlZCA9IHRydWUpfTtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2xpa2UtYnV0dG9uXCIpXHJcbiAgICAgIC5jbGFzc0xpc3QudG9nZ2xlKFwiY2FyZF9fbGlrZS1idXR0b25fYWN0aXZlXCIpO1xyXG4gIH1cclxuXHJcblxyXG5cclxuICByZW1vdmVDYXJkKCkge1xyXG4gICAgdGhpcy5fY2FyZEVsZW1lbnQucmVtb3ZlKCk7XHJcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IG51bGw7XHJcbiAgfVxyXG5cclxuICBnZXRDYXJkRWxlbWVudCgpIHtcclxuICAgIHRoaXMuX2NhcmRFbGVtZW50ID0gZG9jdW1lbnRcclxuICAgICAgLnF1ZXJ5U2VsZWN0b3IodGhpcy5fY2FyZFNlbGVjdG9yKSAvL291dGVyIGNvbnRhaW5lciBmb3IgY2FyZCBsaXN0IGl0ZW0gKHRlbXBsYXRlKVxyXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIikgLy9saXN0IGl0ZW0gZWxlbWVudCB3aGljaCBjb250YWlucyBhbGwgcGFydHMgb2YgdGhlIGNhcmRcclxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcclxuXHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpOyAvL3NldHRpbmcgZXZlbnQgbGlzdGVuZXJzIGZvciBsaWtlIGJ1dHRvbiwgZGVsZXRlIGJ1dHRvbi5cclxuICAgIHRoaXMuX3NldENhcmROYW1lSW1hZ2VBbmREZXNjcmlwdGlvbigpOyAvL2dldHRpbmcgdGhlIGltYWdlIGRpdiwgaW1hZ2UsIGRlc2NyaXB0aW9uLCBhbmQgc2V0dGluZyB0aGVtLlxyXG5cclxuICAgIHJldHVybiB0aGlzLl9jYXJkRWxlbWVudDtcclxuICB9XHJcbn1cclxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XHJcbiAgY29uc3RydWN0b3IoZm9ybVNlbGVjdG9yLCBvcHRpb25zKSB7XHJcbiAgICB0aGlzLl9mb3JtRWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKGZvcm1TZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9mb3JtT3B0aW9ucyA9IG9wdGlvbnM7XHJcbiAgfVxyXG5cclxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbCkge1xyXG4gICAgaW5wdXRFbC5jbGFzc0xpc3QuYWRkKHRoaXMuX2Zvcm1PcHRpb25zLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgICBjb25zdCBlcnJvck1lc3NhZ2VFbCA9IHRoaXMuX2Zvcm1FbC5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsLmlkfS1lcnJvcmApO1xyXG4gICAgZXJyb3JNZXNzYWdlRWwudGV4dENvbnRlbnQgPSBpbnB1dEVsLnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gICAgZXJyb3JNZXNzYWdlRWwuY2xhc3NMaXN0LmFkZCh0aGlzLl9mb3JtT3B0aW9ucy5lcnJvckNsYXNzKTtcclxuICB9XHJcbiAgX2hpZGVJbnB1dEVycm9yKGlucHV0RWwpIHtcclxuICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsID0gdGhpcy5fZm9ybUVsLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWwuaWR9LWVycm9yYCk7XHJcbiAgICBpbnB1dEVsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZm9ybU9wdGlvbnMuaW5wdXRFcnJvckNsYXNzKTtcclxuICAgIGVycm9yTWVzc2FnZUVsLmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fZm9ybU9wdGlvbnMuZXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWwpIHtcclxuICAgIC8vZG9uJ3QgbmVlZCBmb3IgbG9vcCBiYyBpdCdzIGxvb3BpbmcgdGhyb3VnaCBpbnB1dHMgaW4gX3NldEV2ZW50TGlzdGVuZXJzXHJcbiAgICBjb25zdCBpc0lucHV0VmFsaWQgPSBpbnB1dEVsLnZhbGlkaXR5LnZhbGlkO1xyXG4gICAgaWYgKGlzSW5wdXRWYWxpZCkge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX3Nob3dJbnB1dEVycm9yKGlucHV0RWwpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgY29uc3QgeyBpbnB1dFNlbGVjdG9yLCBzdWJtaXRCdXR0b25TZWxlY3RvciB9ID0gdGhpcy5fZm9ybU9wdGlvbnM7XHJcbiAgICB0aGlzLl9pbnB1dEVscyA9IFsuLi50aGlzLl9mb3JtRWwucXVlcnlTZWxlY3RvckFsbChpbnB1dFNlbGVjdG9yKV07XHJcbiAgICB0aGlzLl9zdWJtaXRCdXR0b24gPSB0aGlzLl9mb3JtRWwucXVlcnlTZWxlY3RvcihzdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9pbnB1dEVscy5mb3JFYWNoKChpbnB1dEVsKSA9PiB7XHJcbiAgICAgIGlucHV0RWwuYWRkRXZlbnRMaXN0ZW5lcihcImlucHV0XCIsIChldnQpID0+IHtcclxuICAgICAgICB0aGlzLl9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbCk7XHJcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcclxuICAgICAgfSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF9oYXNJbnZhbGlkSW5wdXQoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5faW5wdXRFbHMuc29tZSgoaW5wdXRFbCkgPT4ge1xyXG4gICAgICByZXR1cm4gIWlucHV0RWwudmFsaWRpdHkudmFsaWQ7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcclxuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQoKSkge1xyXG4gICAgICB0aGlzLl9zdWJtaXRCdXR0b24uY2xhc3NMaXN0LmFkZCh0aGlzLl9mb3JtT3B0aW9ucy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gdHJ1ZTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX3N1Ym1pdEJ1dHRvbi5jbGFzc0xpc3QucmVtb3ZlKFxyXG4gICAgICAgIHRoaXMuX2Zvcm1PcHRpb25zLmluYWN0aXZlQnV0dG9uQ2xhc3NcclxuICAgICAgKTtcclxuICAgICAgdGhpcy5fc3VibWl0QnV0dG9uLmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBjbGVhckVycm9ycygpIHtcclxuICAgIHRoaXMuX2lucHV0RWxzLmZvckVhY2goKGlucHV0RWwpID0+IHtcclxuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbCwgdGhpcy5fZm9ybU9wdGlvbnMpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBlbmFibGVWYWxpZGF0aW9uKCkge1xyXG4gICAgdGhpcy5fZm9ybUVsLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcclxuICAgICAgZS5wcmV2ZW50RGVmYXVsdCgpO1xyXG4gICAgfSk7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxuXHJcbiAgcmVzZXRGb3JtKCkge1xyXG4gICAgdGhpcy5fZm9ybUVsLnJlc2V0KCk7XHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gIH1cclxufVxyXG4iLCJjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yIH0pIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IocG9wdXBTZWxlY3Rvcik7XHJcbiAgICB0aGlzLl9jbG9zZUJ0biA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19jbG9zZVwiKTtcclxuICB9XHJcbiBcclxuICBvcGVuKCkge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5hZGQoXCJtb2RhbF9vcGVuZWRcIik7IFxyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpOyBcclxuICB9XHJcblxyXG4gIGNsb3NlKCkge1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoXCJtb2RhbF9vcGVuZWRcIik7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcblxyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUVzY0Nsb3NlID0gKGV2dCkgPT4ge1xyXG4gICAgaWYgKGV2dC5rZXkgPT09IFwiRXNjYXBlXCIpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH07XHJcblxyXG4gIF9oYW5kbGVDbG9zZUJ0biA9ICgpID0+IHtcclxuICAgIHRoaXMuY2xvc2UoKTtcclxuICB9XHJcblxyXG4gIGhhbmRsZUNsaWNrT3V0c2lkZSA9IChldmVudCkgPT4ge1xyXG4gICAgaWYgKEFycmF5LmZyb20oZXZlbnQudGFyZ2V0LmNsYXNzTGlzdCkuaW5jbHVkZXMoXCJtb2RhbF9vcGVuZWRcIikpIHtcclxuICAgICAgdGhpcy5jbG9zZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcblxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgdGhpcy5oYW5kbGVDbGlja091dHNpZGUpO1xyXG4gICAgdGhpcy5fY2xvc2VCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIHRoaXMuX2hhbmRsZUNsb3NlQnRuKTtcclxuICB9O1xyXG5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUG9wdXA7XHJcblxyXG5cclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5jbGFzcyBQb3B1cFdpdGhGb3JtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IsIGhhbmRsZUZvcm1TdWJtaXQpIHtcclxuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTtcclxuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xyXG4gICAgLy8gVE9ETyBhc2sgd2hhdCB0aGlzIGRvZXMgYW5kIHdyaXRlIGl0IGRvd25cclxuICAgIHRoaXMuc3VibWl0ID0gdGhpcy5zdWJtaXQuYmluZCh0aGlzKTtcclxuICB9XHJcblxyXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIGNvbnN0IGZvcm1WYWx1ZXMgPSB7fTtcclxuICAgIGNvbnN0IGZvcm1JbnB1dHMgPSBBcnJheS5mcm9tKGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCIubW9kYWxfX2lucHV0XCIpKTtcclxuICAgIGZvcm1JbnB1dHMuZm9yRWFjaCgoaW5wdXQpID0+IHtcclxuICAgICAgZm9ybVZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gZm9ybVZhbHVlcztcclxuICB9XHJcblxyXG4gIHN1Ym1pdChlKSB7IC8vIGhhbmRsZXMgYWxsIHN1Ym1pdHRpbmcgc3R1ZmZcclxuICAgIGUucHJldmVudERlZmF1bHQoKTtcclxuICAgIGNvbnN0IGJ1dHRvbkxhYmVsID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX3NhdmVcIikuaW5uZXJUZXh0O1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX3NhdmVcIikuaW5uZXJUZXh0ID0gXCJTYXZpbmcuLi4uXCI7XHJcbiAgICB0aGlzLl9oYW5kbGVGb3JtU3VibWl0KHRoaXMuX2dldElucHV0VmFsdWVzKCkpO1xyXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX3NhdmVcIikuaW5uZXJUZXh0ID0gYnV0dG9uTGFiZWw7XHJcblxyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCB0aGlzLnN1Ym1pdCk7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgUG9wdXBXaXRoRm9ybTtcclxuIiwiZXhwb3J0IGNvbnN0IGluaXRpYWxDYXJkcyA9IFtcclxuICB7XHJcbiAgICBuYW1lOiBcIllvc2VtaXRlIFZhbGxleVwiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L3lvc2VtaXRlLmpwZ1wiLFxyXG4gIH0sXHJcblxyXG4gIHtcclxuICAgIG5hbWU6IFwiTGFrZSBMb3Vpc2VcIixcclxuICAgIGxpbms6IFwiaHR0cHM6Ly9wcmFjdGljdW0tY29udGVudC5zMy51cy13ZXN0LTEuYW1hem9uYXdzLmNvbS9zb2Z0d2FyZS1lbmdpbmVlci9hcm91bmQtcHJvamVjdC9sYWtlLWxvdWlzZS5qcGdcIixcclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBuYW1lOiBcIkJhbGQgTW91bnRhaW5zXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvYmFsZC1tb3VudGFpbnMuanBnXCIsXHJcbiAgfSxcclxuXHJcbiAge1xyXG4gICAgbmFtZTogXCJMYXRlbWFyXCIsXHJcbiAgICBsaW5rOiBcImh0dHBzOi8vcHJhY3RpY3VtLWNvbnRlbnQuczMudXMtd2VzdC0xLmFtYXpvbmF3cy5jb20vc29mdHdhcmUtZW5naW5lZXIvYXJvdW5kLXByb2plY3QvbGF0ZW1hci5qcGdcIixcclxuICB9LFxyXG5cclxuICB7XHJcbiAgICBuYW1lOiBcIlZhbm9pc2UgTmF0aW9uYWwgUGFya1wiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L3Zhbm9pc2UuanBnXCIsXHJcbiAgfSxcclxuXHJcbiAge1xyXG4gICAgbmFtZTogXCJMYWdvIGRpIEJyYWllc1wiLFxyXG4gICAgbGluazogXCJodHRwczovL3ByYWN0aWN1bS1jb250ZW50LnMzLnVzLXdlc3QtMS5hbWF6b25hd3MuY29tL3NvZnR3YXJlLWVuZ2luZWVyL2Fyb3VuZC1wcm9qZWN0L2xhZ28uanBnXCIsXHJcbiAgfSxcclxuXTtcclxuXHJcbmV4cG9ydCBjb25zdCBjb25maWcgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiBcIi5tb2RhbF9fZm9ybVwiLFxyXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19pbnB1dFwiLFxyXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5tb2RhbF9fc2F2ZVwiLFxyXG4gIGluYWN0aXZlQnV0dG9uQ2xhc3M6IFwibW9kYWxfX3NhdmVfZGlzYWJsZWRcIixcclxuICBpbnB1dEVycm9yQ2xhc3M6IFwibW9kYWxfX2lucHV0X3R5cGVfZXJyb3JcIixcclxuICBlcnJvckNsYXNzOiBcIm1vZGFsX19lcnJvcl92aXNpYmxlXCIsXHJcbiAgdGVtcGxhdGVTZWxlY3RvcjogXCIjY2FyZC10ZW1wbGF0ZVwiLFxyXG4gIGNvbnRhaW5lclNlbGVjdG9yOiBcIi5jYXJkc19fbGlzdFwiLFxyXG59O1xyXG4iLCJpbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xyXG5pbXBvcnQgQ2FyZCBmcm9tIFwiLi4vY29tcG9uZW50cy9DYXJkLmpzXCI7XHJcbmltcG9ydCBTZWN0aW9uIGZyb20gXCIuLi9jb21wb25lbnRzL1NlY3Rpb24uanNcIjtcclxuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xyXG5pbXBvcnQgeyBQb3B1cENvbmZpcm0gfSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cENvbmZpcm0uanNcIjtcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSBcIi4uL2NvbXBvbmVudHMvUG9wdXBXaXRoRm9ybS5qc1wiO1xyXG5pbXBvcnQgeyBQb3B1cFdpdGhJbWFnZSB9IGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XHJcbmltcG9ydCBVc2VySW5mbyBmcm9tIFwiLi4vY29tcG9uZW50cy9Vc2VySW5mby5qc1wiO1xyXG5pbXBvcnQgeyBjb25maWcsIGluaXRpYWxDYXJkcyB9IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcclxuaW1wb3J0IHsgYXBpIH0gZnJvbSBcIi4uL2NvbXBvbmVudHMvYXBpLmpzXCI7XHJcblxyXG5jb25zdCBwcm9maWxlRWRpdEJ1dHRvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZWRpdC1idXR0b25cIik7XHJcbmNvbnN0IGFkZENhcmRCdXR0b24gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2FkZC1idXR0b25cIik7XHJcbmNvbnN0IHByb2ZpbGVEZXNjcmlwdGlvbklucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXHJcbiAgXCJwcm9maWxlLWRlc2NyaXB0aW9uLWlucHV0XCJcclxuKTtcclxuY29uc3QgcHJvZmlsZU5hbWVJbnB1dCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHJvZmlsZS1uYW1lLWlucHV0XCIpO1xyXG5cclxucHJvZmlsZUVkaXRCdXR0b24uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcclxuICBjb25zdCB1c2VySW5mbyA9IHByb2ZpbGVVc2VySW5mby5nZXRVc2VySW5mbygpO1xyXG4gIHByb2ZpbGVOYW1lSW5wdXQudmFsdWUgPSB1c2VySW5mby5uYW1lO1xyXG4gIHByb2ZpbGVEZXNjcmlwdGlvbklucHV0LnZhbHVlID0gdXNlckluZm8uZGVzY3JpcHRpb247XHJcbiAgcHJvZmlsZU1vZGFsLm9wZW4oKTtcclxufSk7XHJcblxyXG5hZGRDYXJkQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XHJcbiAgbmV3Q2FyZE1vZGFsLm9wZW4oKTtcclxufSk7XHJcblxyXG5jb25zdCBkZWxldGVNb2RhbCA9IG5ldyBQb3B1cENvbmZpcm0oeyBwb3B1cFNlbGVjdG9yOiBcIiNhcmUteW91LXN1cmVcIiB9KTtcclxuXHJcbmRlbGV0ZU1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBuZXdDYXJkTW9kYWwgPSBuZXcgUG9wdXBXaXRoRm9ybShcclxuICBcIiNwcm9maWxlLWNhcmQtbW9kYWxcIixcclxuICBoYW5kbGVDYXJkQ29udGVudCxcclxuICBcIiNjYXJkLWFkZC1idXR0b25cIiAvLyBUT0RPIGRvIHdlIG5lZWQgdGhpcyB0aGlyZCBhcmd1bWVudD9cclxuKTtcclxuXHJcbm5ld0NhcmRNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgcHJvZmlsZU5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX25hbWVcIik7XHJcbmNvbnN0IHByb2ZpbGVEZXNjcmlwdGlvbiA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIucHJvZmlsZV9fZGVzY3JpcHRpb25cIik7XHJcbmNvbnN0IHByb2ZpbGVBdmF0YXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiLnByb2ZpbGVfX2ltYWdlXCIpO1xyXG5jb25zdCBhdmF0YXJFZGl0QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wZW5jaWwtaWNvblwiKTtcclxuY29uc3QgcHJvZmlsZVVzZXJJbmZvID0gbmV3IFVzZXJJbmZvKHtcclxuICBwcm9maWxlTmFtZSxcclxuICBwcm9maWxlRGVzY3JpcHRpb24sXHJcbiAgcHJvZmlsZUF2YXRhcixcclxufSk7XHJcblxyXG5jb25zdCBwcm9maWxlTW9kYWwgPSBuZXcgUG9wdXBXaXRoRm9ybShcIiNwcm9maWxlLWVkaXQtbW9kYWxcIiwgKHVzZXJJbnB1dCkgPT4ge1xyXG4gIGFwaVxyXG4gICAgLmVkaXRQcm9maWxlKFxyXG4gICAgICBKU09OLnN0cmluZ2lmeSh7IG5hbWU6IHVzZXJJbnB1dC5uYW1lLCBhYm91dDogdXNlcklucHV0LmRlc2NyaXB0aW9uIH0pXHJcbiAgICApXHJcbiAgICAudGhlbigoanNvbikgPT4ge1xyXG4gICAgICBwcm9maWxlVXNlckluZm8uc2V0VXNlckluZm8odXNlcklucHV0KTsgLy91c2VkIHdoZW4gc3VibWl0dGluZyBtb2RhbFxyXG4gICAgICBwcm9maWxlTW9kYWwuY2xvc2UoKTtcclxuICAgIH0pO1xyXG59KTtcclxuXHJcbnByb2ZpbGVNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuYXZhdGFyRWRpdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xyXG4gIGF2YXRhck1vZGFsLm9wZW4oKTtcclxufSk7XHJcblxyXG5jb25zdCBhdmF0YXJNb2RhbCA9IG5ldyBQb3B1cFdpdGhGb3JtKFwiI2F2YXRhci1lZGl0LW1vZGFsXCIsICh1c2VySW5wdXQpID0+IHtcclxuICBhcGlcclxuICAgIC51cGRhdGVQcm9maWxlUGljdHVyZShKU09OLnN0cmluZ2lmeSh7IGF2YXRhcjogdXNlcklucHV0LmF2YXRhciB9KSlcclxuICAgIC50aGVuKChqc29uKSA9PiB7XHJcbiAgICAgIHByb2ZpbGVVc2VySW5mby5zZXRVc2VySW5mbyh1c2VySW5wdXQpOyAvL3VzZWQgd2hlbiBzdWJtaXR0aW5nIG1vZGFsXHJcbiAgICAgIGF2YXRhck1vZGFsLmNsb3NlKCk7XHJcbiAgICB9KTtcclxufSk7XHJcblxyXG5hdmF0YXJNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuY29uc3QgaW1hZ2VQb3B1cCA9IG5ldyBQb3B1cFdpdGhJbWFnZSh7XHJcbiAgcG9wdXBTZWxlY3RvcjogXCIjbW9kYWwtaW1hZ2VcIixcclxufSk7XHJcblxyXG5pbWFnZVBvcHVwLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5jb25zdCBwcm9maWxlRm9ybVZhbGlkYXRlID0gbmV3IEZvcm1WYWxpZGF0b3IoXCIjcHJvZmlsZS1mb3JtXCIsIGNvbmZpZyk7XHJcbmNvbnN0IGNhcmRGb3JtVmFsaWRhdGUgPSBuZXcgRm9ybVZhbGlkYXRvcihcIiNjYXJkLWZvcm1cIiwgY29uZmlnKTtcclxuY29uc3QgYXZhdGFyVmFsaWRhdGUgPSBuZXcgRm9ybVZhbGlkYXRvcihcIiNhdmF0YXItZm9ybVwiLCBjb25maWcpO1xyXG5cclxucHJvZmlsZUZvcm1WYWxpZGF0ZS5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbmNhcmRGb3JtVmFsaWRhdGUuZW5hYmxlVmFsaWRhdGlvbigpO1xyXG5hdmF0YXJWYWxpZGF0ZS5lbmFibGVWYWxpZGF0aW9uKCk7XHJcblxyXG4vL2lucHV0cyBhbmQgaW5mb3JtYXRpb25cclxuXHJcbi8vIFdoZW4geW91IGNsaWNrIHRoZSBhZGQgY2FyZCBidXR0b24gKHRoZSArKSwgaXQgY3JlYXRlcyBhIG5ldyBjYXJkLlxyXG5mdW5jdGlvbiBoYW5kbGVDYXJkQ29udGVudCh7IHBsYWNlOiBuYW1lLCBsaW5rIH0pIHtcclxuICBhcGkuYWRkQ2FyZChKU09OLnN0cmluZ2lmeSh7IG5hbWUsIGxpbmsgfSkpLnRoZW4oKGNhcmQpID0+IHtcclxuICAgIC8vY3JlYXRpbmcgY2FyZCBvbiBzZXJ2ZXJcclxuICAgIGNhcmRMaXN0LmFkZEl0ZW0oY3JlYXRlQ2FyZCh7IG5hbWUsIGxpbmssIGlkOiBjYXJkLl9pZCB9KSk7IC8vYWZ0ZXIgZ2V0dGluZyByZXNwb25zZSwgY3JlYXRpbmcgY2FyZCBpbiBicm93c2VyXHJcbiAgICBjYXJkRm9ybVZhbGlkYXRlLnJlc2V0Rm9ybSgpO1xyXG4gICAgbmV3Q2FyZE1vZGFsLmNsb3NlKCk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGhhbmRsZUltYWdlQ2xpY2soZGF0YSkge1xyXG4gIGltYWdlUG9wdXAub3BlbihkYXRhLl9uYW1lLCBkYXRhLl9saW5rKTtcclxufVxyXG5cclxuZnVuY3Rpb24gaGFuZGxlRGVsZXRlQ29uZmlybShjYXJkKSB7XHJcbiAgZGVsZXRlTW9kYWwub3BlbigpOyAvLyBvcGVucyBtb2RhbFxyXG4gIGRlbGV0ZU1vZGFsLnN1Ym1pdEFjdGlvbigoKSA9PiB7XHJcbiAgICBhcGlcclxuICAgICAgLnJlbW92ZUNhcmQoY2FyZC5pZClcclxuICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgIGNhcmQucmVtb3ZlQ2FyZCgpOyAvL3JlbW92ZXMgY2FyZFxyXG4gICAgICAgIGRlbGV0ZU1vZGFsLmNsb3NlKCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoKSA9PiB7fSk7XHJcbiAgfSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZUNhcmQoZGF0YSkge1xyXG4gIGNvbnN0IGNhcmQgPSBuZXcgQ2FyZChcclxuICAgIGRhdGEsXHJcbiAgICBjb25maWcudGVtcGxhdGVTZWxlY3RvcixcclxuICAgIGhhbmRsZUltYWdlQ2xpY2ssXHJcbiAgICBoYW5kbGVEZWxldGVDb25maXJtXHJcbiAgKTtcclxuICByZXR1cm4gY2FyZC5nZXRDYXJkRWxlbWVudCgpO1xyXG59XHJcblxyXG5sZXQgY2FyZHMgPSBbXTtcclxuY29uc3QgY2FyZExpc3QgPSBuZXcgU2VjdGlvbihcclxuICB7XHJcbiAgICBpdGVtczogY2FyZHMsXHJcbiAgICByZW5kZXJlcjogKGRhdGEpID0+IHtcclxuICAgICAgY2FyZExpc3QuYWRkSXRlbShjcmVhdGVDYXJkKGRhdGEpKTtcclxuICAgIH0sXHJcbiAgfSxcclxuICBjb25maWcuY29udGFpbmVyU2VsZWN0b3JcclxuKTtcclxuXHJcbmFwaS5sb2FkVXNlckluZm8oKS50aGVuKCh1c2VySW5mbykgPT4ge1xyXG4gIHByb2ZpbGVVc2VySW5mby5zZXRVc2VySW5mbyh7XHJcbiAgICBuYW1lOiB1c2VySW5mby5uYW1lLFxyXG4gICAgZGVzY3JpcHRpb246IHVzZXJJbmZvLmFib3V0LFxyXG4gICAgYXZhdGFyOiB1c2VySW5mby5hdmF0YXIsXHJcbiAgfSk7XHJcbn0pO1xyXG5cclxuYXBpLmdldEluaXRpYWxDYXJkcygpLnRoZW4oKHJlc3VsdCkgPT4ge1xyXG4gIHJlc3VsdC5yZXZlcnNlKCkuZm9yRWFjaCgoaXRlbSkgPT4ge1xyXG4gICAgY2FyZExpc3QuYWRkSXRlbShcclxuICAgICAgY3JlYXRlQ2FyZCh7XHJcbiAgICAgICAgbmFtZTogaXRlbS5uYW1lLFxyXG4gICAgICAgIGxpbms6IGl0ZW0ubGluayxcclxuICAgICAgICBpZDogaXRlbS5faWQsXHJcbiAgICAgICAgaXNMaWtlZDogaXRlbS5pc0xpa2VkLFxyXG4gICAgICB9KVxyXG4gICAgKTtcclxuICB9KTtcclxufSk7XHJcblxyXG5jYXJkTGlzdC5yZW5kZXJJdGVtcygpO1xyXG5cclxuLy90b2tlbiAtIGM3MTEzOWE4LTYxNmQtNDUzOS04MWQ1LTk2MGRiZjEzOWM0NlxyXG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXBcIjtcclxuXHJcbmV4cG9ydCBjbGFzcyBQb3B1cENvbmZpcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IoIHsgcG9wdXBTZWxlY3RvciB9ICkge1xyXG4gICAgc3VwZXIoeyBwb3B1cFNlbGVjdG9yIH0pO1xyXG4gIH1cclxuXHJcbiAgc3VibWl0QWN0aW9uKGFjdGlvbikge1xyXG4gICAgdGhpcy5oYW5kbGVTdWJtaXRBY3Rpb24gPSBhY3Rpb247IC8vaGFuZGxlU3VibWl0QWN0aW9uIGlzIHRoZSBmdW5jdGlvbiAoYXBpLmRlbGV0ZSBjYXJkKVxyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInN1Ym1pdFwiLCAoZXZlbnQpID0+IHtcclxuICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuICAgICAgdGhpcy5oYW5kbGVTdWJtaXRBY3Rpb24oKTtcclxuICAgIH0pO1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcblxyXG59XHJcbiIsImNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3Rvcih7IHByb2ZpbGVOYW1lLCBwcm9maWxlRGVzY3JpcHRpb24sIHByb2ZpbGVBdmF0YXIgfSkge1xyXG4gICAgdGhpcy5fcHJvZmlsZU5hbWUgPSBwcm9maWxlTmFtZTtcclxuICAgIHRoaXMuX3Byb2ZpbGVEZXNjcmlwdGlvbiA9IHByb2ZpbGVEZXNjcmlwdGlvbjtcclxuICAgIHRoaXMuX3Byb2ZpbGVBdmF0YXIgPSBwcm9maWxlQXZhdGFyO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICBuYW1lOiB0aGlzLl9wcm9maWxlTmFtZS50ZXh0Q29udGVudCxcclxuICAgICAgZGVzY3JpcHRpb246IHRoaXMuX3Byb2ZpbGVEZXNjcmlwdGlvbi50ZXh0Q29udGVudCxcclxuICAgICAgYXZhdGFyOiB0aGlzLl9wcm9maWxlQXZhdGFyLnNyY1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIHNldFVzZXJJbmZvKHVzZXJJbnB1dCkge1xyXG4gICAgaWYgKHVzZXJJbnB1dC5uYW1lLmxlbmd0aCkge1xyXG4gICAgICB0aGlzLl9wcm9maWxlTmFtZS50ZXh0Q29udGVudCA9IHVzZXJJbnB1dC5uYW1lO1xyXG4gICAgfVxyXG4gICAgaWYgKHVzZXJJbnB1dC5kZXNjcmlwdGlvbi5sZW5ndGgpIHtcclxuICAgICAgdGhpcy5fcHJvZmlsZURlc2NyaXB0aW9uLnRleHRDb250ZW50ID0gdXNlcklucHV0LmRlc2NyaXB0aW9uO1xyXG4gICAgfVxyXG4gICAgaWYgKHVzZXJJbnB1dC5hdmF0YXI/Lmxlbmd0aCkge1xyXG4gICAgICB0aGlzLl9wcm9maWxlQXZhdGFyLnNyYyA9IHVzZXJJbnB1dC5hdmF0YXI7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBVc2VySW5mbztcclxuIiwiaW1wb3J0IFBvcHVwIGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IoeyBwb3B1cFNlbGVjdG9yIH0pIHtcclxuICAgIHN1cGVyKHsgcG9wdXBTZWxlY3RvciB9KTtcclxuICAgIHRoaXMuX2NhcmRJbWFnZSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19wcmV2aWV3LWltYWdlXCIpO1xyXG4gICAgdGhpcy5fY2FyZFRpdGxlID0gdGhpcy5fcG9wdXBFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIubW9kYWxfX3ByZXZpZXctdGl0bGVcIik7XHJcbiAgfVxyXG5cclxuICBvcGVuKG5hbWUsIGxpbmspIHtcclxuICAgIHN1cGVyLm9wZW4oKTtcclxuICAgIHRoaXMuX2NhcmRJbWFnZS5zcmMgPSBsaW5rO1xyXG4gICAgdGhpcy5fY2FyZFRpdGxlLnRleHRDb250ZW50ID0gbmFtZTtcclxuICAgIHRoaXMuX2NhcmRJbWFnZS5hbHQgPSBuYW1lO1xyXG4gIH1cclxuXHJcbn1cclxuIiwiY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyByZW5kZXJlciB9LCBzZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3Ioc2VsZWN0b3IpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVySXRlbXMoaXRlbXMpIHtcclxuICAgIGl0ZW1zPy5mb3JFYWNoKChpdGVtKSA9PiB7XHJcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGl0ZW0pO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBhZGRJdGVtKGVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpXHJcbiAgfVxyXG5cclxufVxyXG5cclxuZXhwb3J0IGRlZmF1bHQgU2VjdGlvbjtcclxuIl0sIm5hbWVzIjpbImFwaSIsImNvbnN0cnVjdG9yIiwib3B0aW9ucyIsInRoaXMiLCJiYXNlVXJsIiwiaGVhZGVycyIsImhhbmRsZVNlcnZlclJlc3BvbnNlIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsInN0YXR1cyIsImdldEluaXRpYWxDYXJkcyIsImZldGNoIiwidGhlbiIsImxvYWRVc2VySW5mbyIsImxvYWRDYXJkcyIsImF1dGhvcml6YXRpb24iLCJlZGl0UHJvZmlsZSIsImJvZHkiLCJtZXRob2QiLCJhZGRDYXJkIiwicmVtb3ZlQ2FyZCIsImlkIiwibGlrZUNhcmQiLCJ1bmxpa2VDYXJkIiwidXBkYXRlUHJvZmlsZVBpY3R1cmUiLCJDYXJkIiwiX3JlZiIsImNhcmRTZWxlY3RvciIsImhhbmRsZUltYWdlQ2xpY2siLCJoYW5kbGVEZWxldGVDb25maXJtIiwibmFtZSIsImxpbmsiLCJpc0xpa2VkIiwiX25hbWUiLCJfbGluayIsIl9jYXJkU2VsZWN0b3IiLCJfaGFuZGxlSW1hZ2VDbGljayIsIl9zZXRFdmVudExpc3RlbmVycyIsIl9jYXJkRWxlbWVudCIsInF1ZXJ5U2VsZWN0b3IiLCJhZGRFdmVudExpc3RlbmVyIiwiX2hhbmRsZUxpa2VCdXR0b24iLCJjbGFzc0xpc3QiLCJ0b2dnbGUiLCJfc2V0Q2FyZE5hbWVJbWFnZUFuZERlc2NyaXB0aW9uIiwiY2FyZEltYWdlRWwiLCJjYXJkTmFtZVRleHRFbCIsInNyYyIsImFsdCIsInRleHRDb250ZW50IiwibGlrZWQiLCJyZW1vdmUiLCJnZXRDYXJkRWxlbWVudCIsImRvY3VtZW50IiwiY29udGVudCIsImNsb25lTm9kZSIsIkZvcm1WYWxpZGF0b3IiLCJmb3JtU2VsZWN0b3IiLCJfZm9ybUVsIiwiX2Zvcm1PcHRpb25zIiwiX3Nob3dJbnB1dEVycm9yIiwiaW5wdXRFbCIsImFkZCIsImlucHV0RXJyb3JDbGFzcyIsImVycm9yTWVzc2FnZUVsIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJlcnJvckNsYXNzIiwiX2hpZGVJbnB1dEVycm9yIiwiX2NoZWNrSW5wdXRWYWxpZGl0eSIsInZhbGlkaXR5IiwidmFsaWQiLCJpbnB1dFNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5wdXRFbHMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiX3N1Ym1pdEJ1dHRvbiIsImZvckVhY2giLCJldnQiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJfaGFzSW52YWxpZElucHV0Iiwic29tZSIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJkaXNhYmxlZCIsImNsZWFyRXJyb3JzIiwiZW5hYmxlVmFsaWRhdGlvbiIsImUiLCJwcmV2ZW50RGVmYXVsdCIsInJlc2V0Rm9ybSIsInJlc2V0IiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cEVsZW1lbnQiLCJfY2xvc2VCdG4iLCJvcGVuIiwiX2hhbmRsZUVzY0Nsb3NlIiwiY2xvc2UiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwia2V5IiwiX2hhbmRsZUNsb3NlQnRuIiwiaGFuZGxlQ2xpY2tPdXRzaWRlIiwiZXZlbnQiLCJBcnJheSIsImZyb20iLCJ0YXJnZXQiLCJpbmNsdWRlcyIsInNldEV2ZW50TGlzdGVuZXJzIiwiUG9wdXAiLCJoYW5kbGVGb3JtU3VibWl0Iiwic3VwZXIiLCJfaGFuZGxlRm9ybVN1Ym1pdCIsInN1Ym1pdCIsImJpbmQiLCJfZ2V0SW5wdXRWYWx1ZXMiLCJmb3JtVmFsdWVzIiwiaW5wdXQiLCJ2YWx1ZSIsImJ1dHRvbkxhYmVsIiwiaW5uZXJUZXh0IiwiY29uZmlnIiwidGVtcGxhdGVTZWxlY3RvciIsImNvbnRhaW5lclNlbGVjdG9yIiwicHJvZmlsZUVkaXRCdXR0b24iLCJhZGRDYXJkQnV0dG9uIiwicHJvZmlsZURlc2NyaXB0aW9uSW5wdXQiLCJnZXRFbGVtZW50QnlJZCIsInByb2ZpbGVOYW1lSW5wdXQiLCJ1c2VySW5mbyIsInByb2ZpbGVVc2VySW5mbyIsImdldFVzZXJJbmZvIiwiZGVzY3JpcHRpb24iLCJwcm9maWxlTW9kYWwiLCJuZXdDYXJkTW9kYWwiLCJkZWxldGVNb2RhbCIsInN1Ym1pdEFjdGlvbiIsImFjdGlvbiIsImhhbmRsZVN1Ym1pdEFjdGlvbiIsIlBvcHVwV2l0aEZvcm0iLCJwbGFjZSIsIkpTT04iLCJzdHJpbmdpZnkiLCJjYXJkIiwiY2FyZExpc3QiLCJhZGRJdGVtIiwiY3JlYXRlQ2FyZCIsIl9pZCIsImNhcmRGb3JtVmFsaWRhdGUiLCJwcm9maWxlTmFtZSIsInByb2ZpbGVEZXNjcmlwdGlvbiIsInByb2ZpbGVBdmF0YXIiLCJhdmF0YXJFZGl0QnRuIiwiX3Byb2ZpbGVOYW1lIiwiX3Byb2ZpbGVEZXNjcmlwdGlvbiIsIl9wcm9maWxlQXZhdGFyIiwiYXZhdGFyIiwic2V0VXNlckluZm8iLCJ1c2VySW5wdXQiLCJsZW5ndGgiLCJhYm91dCIsImF2YXRhck1vZGFsIiwiaW1hZ2VQb3B1cCIsIl9jYXJkSW1hZ2UiLCJfY2FyZFRpdGxlIiwicHJvZmlsZUZvcm1WYWxpZGF0ZSIsImF2YXRhclZhbGlkYXRlIiwiZGF0YSIsImNhdGNoIiwic2VsZWN0b3IiLCJyZW5kZXJlciIsIl9yZW5kZXJlciIsIl9jb250YWluZXIiLCJyZW5kZXJJdGVtcyIsIml0ZW1zIiwiaXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwicmVzdWx0IiwicmV2ZXJzZSJdLCJzb3VyY2VSb290IjoiIn0=